Задание 1. Создание нового файла с использованием vim

Создание каталога:
mkdir practice

Переход в каталог:

cd practice

Создание файла memo с использованием vim:
vim memo

Режим ввода текста (нажмать i): Ввести указанный текст:

@REM AUTOEXEC.BAT DTK 386/40
ECHO OFF
Path c:\dos;c:\stacker;c:\Util;c:\NC;C:\MOUSE
SET PROMPT=$P$G
SET TMP=C:\TEMP
LH C:\UTIL\RKEGA
goto %config%
:student1
C:\DOS\SMARTDRV.EXE C+ 2048 1024
goto nc
:student2
APPEND E:\tc\bgi
:teacher
PATH %path%E:\windows;e:\tc;e:\tc\bin;e:\foxpro;
goto win
:ONC
PATH %path%G:\pctcp;
SET TZ=GMT
goto nc
:nc
nc.exe
goto end
win.com
:end

Выйдите из режима ввода (нажмите ESC).

Сохраните файл и выйдите из редактора:
:wq

Задание 2. Редактирование существующего файла
Открытие файла memo:

vim ~/practice/memo
Установите курсор на слово DTK (используйте стрелки).
Перейдите в режим вставки (i) и измените строку: Из:

@REM AUTOEXEC.BAT DTK 386/40

На:

@REM AUTOEXEC.BAT 1-203 DTK 386/40

Удалите C:\MOUSE (переместите курсор и нажмите dd):
Path c:\dos;c:\stacker;c:\Util;c:\NC;C:\GMOUSE
Добавьте строку extention 287 в конец файла, затем замените слово extention на x:

Перейдите в конец файла с помощью:
G
Вставьте строку:
i
extention 287
Замените слово (в командном режиме):

:%s/extention/x/
Удалите последнюю строку (в командном режиме):

Gdd
Отмените удаление строки (в командном режиме):


u
Добавьте текст @REM 22 apr. 1999 в начале файла:

Перейдите на первую строку (gg).
Вставьте пустую строку перед первой строкой (O).
Введите текст и сохраните изменения (:wq).


Задание 3. Работа с файлом testcase.c
Возврат в домашний каталог:
cd ~
Копирование файла testcase.c в каталог ~/practice:
cp $(find / -name "testcase.c" 2>/dev/null) ~/practice/
Открытие файла testcase.c:

vim ~/practice/testcase.c
Включение отображения номеров строк:

:set number
Считайте количество строк.

Замена текста в файле:

WORD на IGNORE:

:%s/WORD/IGNORE/g
Reset на set:

:%s/Reset/set/g
input на output:

:%s/input/output/g
Добавьте строку <?> под строкой :state = WORD:

Перейдите на нужную строку и вставьте текст (o и введите текст).
Скопируйте строки с 16 по 29 в файл printwords.c:

Скопируйте строки:

:16,29w ~/practice/printwords.c
Удаление двух последних строк:

Перейдите в конец файла (G) и удалите (dd дважды).
Перемещение блока текста в конец файла:

Вырежьте блок (dd) и вставьте в конец (Gp).
Сохранение файла с новым именем:

:w testvim.c
Выйдите из редактора (:q).


Задача 4 .


Шаг 1. Установка nginx
Обновите репозитории пакетов: Чтобы убедиться, что ваши пакеты актуальны, выполните команду:


sudo apt update
Установите nginx: Установите nginx, используя команду:

sudo apt install nginx
Проверьте статус nginx:
sudo systemctl status nginx
сервис работает (статус active (running)).
![Status nginx](https://github.com/annette-medvedeva/Medvedeva_Anna_DOS24/blob/HomeWork9_Vim/HomeWork9_Vim/pictures/status_nginx.png)
Проверить, что nginx работает: Откройте веб-браузер и перейдите по адресу http://localhost:8080
![Work nginx](https://github.com/annette-medvedeva/Medvedeva_Anna_DOS24/blob/HomeWork9_Vim/HomeWork9_Vim/pictures/localhost_nginx.png)

Шаг 2. Просмотр логов nginx
Основные логи nginx: Логи nginx обычно находятся в каталогах /var/log/nginx. Для просмотра логов действий nginx вы можете использовать команду cat, less или tail.

Для доступа к логам ошибок:


sudo less /var/log/nginx/error.log

Для доступа к логам доступа (request logs):


sudo less /var/log/nginx/access.log

Мониторинг новых записей в логах: Если вы хотите просматривать новые записи в логах в реальном времени, используйте команду tail:

sudo tail -f /var/log/nginx/access.log

Шаг 3. Мониторинг уровня нагрузки на ОС
Использование команды top: Для мониторинга общей загрузки системы, включая использование CPU, памяти, процессов и т.д., можно использовать команду top:


top 
Эта команда покажет список процессов, их потребление ресурсов, а также общую загрузку системы.

Использование команды htop (если установлена): htop — это улучшенная версия top, которая предоставляет более удобный интерфейс:

sudo apt install htop
htop
Вы можете использовать клавиши для сортировки по CPU, памяти и другим параметрам.
![htop](https://github.com/annette-medvedeva/Medvedeva_Anna_DOS24/blob/HomeWork9_Vim/HomeWork9_Vim/pictures/htop_nginx.png)
Использование команды vmstat: Для более детализированной информации о состоянии системы используйте команду vmstat:

vmstat 1

Это отобразит сводку по системе каждые 1 секунду, включая информацию о процессах, памяти, свопах и т.д.

Использование команды uptime: Чтобы узнать, как долго работает ваша система и какова её текущая нагрузка, выполните:


uptime
Этот вывод будет содержать информацию о времени работы системы, средней нагрузке за последние 1, 5 и 15 минут.

Использование команды iostat для мониторинга ввода-вывода: Для мониторинга ввода/вывода на дисках используйте:


sudo apt install sysstat
iostat

Шаг 4. Просмотр логов действий пользователей системы
Логи входа в систему (auth.log): Логи о входах пользователей, попытках аутентификации и других действиях можно найти в файле /var/log/auth.log. Используйте команду less для просмотра:
sudo less /var/log/auth.log
Для поиска конкретных событий (например, входов) можно использовать grep:
sudo grep "session" /var/log/auth.log
Логи sudo (sudo.log): Логи использования sudo обычно находятся в файле /var/log/sudo.log. Для их просмотра используйте команду:

sudo less /var/log/sudo.log
Логи команд с использованием history: Чтобы просмотреть историю команд, которые выполняли пользователи, используйте команду:


history
Также можно искать определенные команды, использованные пользователями, например:


history | grep "nginx"
Просмотр журналов с помощью journalctl: journalctl — это инструмент для работы с системным журналом, который может содержать информацию о действиях пользователей:


sudo journalctl | grep "user"
Дополнительные советы:
Чтобы отслеживать активность пользователя, можно использовать утилиту last:


last
Эта команда покажет список последних успешных входов в систему и выходов из неё.

Для поиска информации о действиях пользователей в системных журналах можно использовать:


sudo journalctl | grep "sshd"
